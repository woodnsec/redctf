name: Docker Compose CI test

on:
  workflow_dispatch:
    inputs:
      filename: 
        description: 'compose file name '
        required: false
        default: 'docker-compose.dev.yml'
         

jobs:

  build:

    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v2
    - name: Rename target compose file
      run: mv docker-compose.dev.yml docker-compose.yml
    - name: list files
      run: ls -a
    - name: Build the Docker-compose file
      run: docker-compose -f "${{ github.event.inputs.filename }}" up -d --build
